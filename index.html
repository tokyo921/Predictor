<<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aviator ‚Äî Simulador / Sinais</title>
<style>
  :root{
    --bg1: #081428;
    --bg2: #07121f;
    --card: rgba(255,255,255,0.04);
    --accent: #ff3b30; /* vermelho –±–ª–∏–∂–µ –∫ Aviator */
    --accent-2: #ff7b6b;
    --muted: #9fb3c8;
    --glass: rgba(255,255,255,0.04);
    --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:var(--font-sans);background:linear-gradient(180deg,var(--bg1),var(--bg2));color:#eaf6ff}
  .wrap{max-width:1100px;margin:20px auto;padding:18px;display:grid;grid-template-columns: 2fr 1fr;gap:18px}
  @media (max-width:920px){ .wrap{grid-template-columns:1fr} }

  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
  header h1{font-size:20px;margin:0;letter-spacing:0.4px}
  header .sub{color:var(--muted);font-size:13px}

  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);border-radius:14px;padding:16px;backdrop-filter:blur(6px)}
  .top-row{display:flex;gap:12px;align-items:center;justify-content:space-between}
  .multibox{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(255,255,255,0.01));box-shadow:inset 0 0 30px rgba(0,0,0,0.4)}
  .multiplier{font-size:64px;font-weight:800;letter-spacing:0.02em;color:var(--accent);text-shadow:0 8px 30px rgba(255,59,48,0.12)}
  .sub-muted{color:var(--muted);font-size:13px;margin-top:6px}
  .graph-wrap{width:320px;height:110px;border-radius:8px;padding:6px;background:linear-gradient(180deg, rgba(255,255,255,0.007), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center}
  .controls{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap;justify-content:center}
  button.btn{padding:10px 18px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#03111a;box-shadow:0 8px 30px rgba(255,59,48,0.08)}
  .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
  .btn-danger{background:linear-gradient(90deg,#ff7b7b,#ff5252);color:#2b0a0a}

  .bet-row{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:12px}
  .bet-input{width:120px;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.25);color:inherit;text-align:center;font-weight:700}
  .note{font-size:12px;color:var(--muted);margin-top:8px;text-align:center}

  .status{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:12px;color:var(--muted);font-size:13px}
  .pill{background:rgba(255,255,255,0.02);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.03)}

  .chat-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
  .chat-box{height:460px;overflow:auto;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.03)}
  .msg{margin-bottom:10px;padding:8px;border-radius:8px;background:rgba(0,0,0,0.16);border:1px solid rgba(255,255,255,0.02)}
  .msg .who{font-weight:700;color:var(--accent-2);font-size:13px;margin-bottom:4px}
  .msg.win{border-left:4px solid #7ef59c}
  .msg.lose{border-left:4px solid #ff8b8b}
  .chat-form{display:flex;gap:8px;margin-top:8px}
  .chat-input{flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.2);color:inherit}
  .small{font-size:12px;color:var(--muted);text-align:center;margin-top:8px}

  .big-flash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .flash-circle{width:220px;height:220px;border-radius:50%;background:radial-gradient(circle, rgba(255,255,255,0.04), rgba(255,255,255,0));transform:scale(0);opacity:0}
  .flash-show{animation:flashIn .6s forwards}
  @keyframes flashIn{to{transform:scale(1);opacity:1}}
</style>
</head>
<body>

<header>
  <h1>üéØ Aviator ‚Äî Simulador</h1>
  <div class="sub">Painel de sinais ‚Äî aposta fixa: <strong>30 MZN</strong></div>
</header>

<main class="wrap">
  <!-- Left: Visual + Controls -->
  <section class="panel">
    <div class="top-row">
      <div class="multibox">
        <div id="multiplier" class="multiplier">‚Äî</div>
        <div class="sub-muted">Multiplicador atual</div>
      </div>

      <div style="display:flex;flex-direction:column;gap:8px;align-items:center;">
        <div class="graph-wrap">
          <canvas id="graph" width="320" height="110"></canvas>
        </div>
        <div class="sub-muted" style="margin-top:6px">Visualiza√ß√£o da curva (decorativa)</div>
      </div>
    </div>

    <div class="controls">
      <div style="display:flex;flex-direction:column;align-items:center">
        <div class="note">Aposta fixa: <strong>30 MZN</strong></div>
        <div class="bet-row">
          <!-- –°–¥–µ–ª–∞–Ω–æ readonly, –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å -->
          <input id="betAmount" class="bet-input" type="number" min="30" value="30" readonly />
        </div>
        <div class="note">Pressione "Obter Sinal" para receber o coeficiente</div>
      </div>
    </div>

    <div class="controls">
      <button id="placeBtn" class="btn btn-primary">Colocar Aposta</button>
      <button id="getSignalBtn" class="btn btn-ghost">Obter Sinal</button>
      <button id="cashoutBtn" class="btn btn-ghost" disabled>Cashout</button>
    </div>

    <div class="status" aria-live="polite">
      <div class="pill" id="phase">Estado: aguardando</div>
      <div class="pill" id="lastSignal">√öltimo sinal: --</div>
      <div class="pill" id="playersFake">üë• -- online</div>
    </div>
  </section>

  <!-- Right: Chat -->
  <aside class="panel">
    <div class="chat-title">
      <strong>Chat ao vivo</strong>
      <div style="color:var(--muted);font-size:13px">Jogadores</div>
    </div>

    <div id="chat" class="chat-box" aria-live="polite"></div>

    <div class="chat-form" style="margin-top:10px">
      <input id="chatInput" class="chat-input" placeholder="Mensagem an√¥nima ‚Äî ex.: 'Cashout 3.2x!'" />
      <button id="sendChat" class="btn btn-primary">Enviar</button>
    </div>
  </aside>
</main>

<!-- Flash when cashout -->
<div id="flash" class="big-flash" aria-hidden="true">
  <div id="flashCircle" class="flash-circle"></div>
</div>

<script>
/* –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–¥ –ø–æ –∑–∞–ø—Ä–æ—Å—É:
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞: "Chat ao vivo"
   - –°–∏–≥–Ω–∞–ª –≤—ã–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ "Obter Sinal"
   - –ß–∞—Ç –∂–∏–≤–æ–π –Ω–∞ –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–æ–º (–ú–æ–∑–∞–º–±–∏–∫): –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å
   - –°—Ç–∞–≤–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ 30 MZN (readonly input)
   - –ù–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ —Ä–∞—É–Ω–¥–æ–≤ ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è
*/

const MIN_BET = 30;
let state = {
  betPlaced: false,
  betAmount: MIN_BET,
  lastCoef: null,
  players: 0
};

const multiplierEl = document.getElementById('multiplier');
const phaseEl = document.getElementById('phase');
const lastSignalEl = document.getElementById('lastSignal');
const playersEl = document.getElementById('playersFake');
const betInput = document.getElementById('betAmount');
const placeBtn = document.getElementById('placeBtn');
const getSignalBtn = document.getElementById('getSignalBtn');
const cashoutBtn = document.getElementById('cashoutBtn');
const chatBox = document.getElementById('chat');
const sendChatBtn = document.getElementById('sendChat');
const chatInput = document.getElementById('chatInput');
const flash = document.getElementById('flash');
const flashCircle = document.getElementById('flashCircle');

const canvas = document.getElementById('graph');
const ctx = canvas.getContext('2d');

/* WebAudio: –∫–æ—Ä–æ—Ç–∫–∏–π whoosh + –Ω–∏–∑ */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const audioCtx = AudioCtx ? new AudioCtx() : null;
function playWhoosh(){
  if(!audioCtx) return;
  const now = audioCtx.currentTime;
  // —à—É–º
  const len = audioCtx.sampleRate * 0.45;
  const buffer = audioCtx.createBuffer(1, len, audioCtx.sampleRate);
  const d = buffer.getChannelData(0);
  for(let i=0;i<len;i++) d[i] = (Math.random()*2-1) * (1 - i/len);
  const src = audioCtx.createBufferSource(); src.buffer = buffer;
  const flt = audioCtx.createBiquadFilter(); flt.type = 'lowpass';
  flt.frequency.setValueAtTime(1400, now);
  src.connect(flt); flt.connect(audioCtx.destination);
  src.start(now); src.stop(now + 0.45);
  // –Ω–∏–∑–∫–∏–π –≥—É–ª
  const osc = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  osc.type = 'sawtooth';
  osc.frequency.setValueAtTime(70, now);
  g.gain.setValueAtTime(0.0001, now);
  g.gain.linearRampToValueAtTime(0.07, now + 0.06);
  g.gain.exponentialRampToValueAtTime(0.0001, now + 0.9);
  osc.connect(g); g.connect(audioCtx.destination);
  osc.start(now); osc.stop(now + 0.95);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Å–ø—ã—à–∫–∏ */
function flashPulse(color='#7ef59c'){
  flashCircle.style.background = `radial-gradient(circle, ${color}, rgba(0,0,0,0))`;
  flash.classList.add('flash-show');
  setTimeout(()=> flash.classList.remove('flash-show'), 600);
}

/* Fake online */
function updatePlayers(){
  state.players = Math.floor(Math.random()*250 + 30);
  playersEl.textContent = 'üë• ' + state.players + ' online';
}
setInterval(updatePlayers, 3000);
updatePlayers();

/* –ß–∞—Ç ‚Äî –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–π (–ú–æ–∑–∞–º–±–∏–∫) ‚Äî –∞–≤—Ç–æ—Ñ—Ä–∞–∑—ã */
const autoMsgs = [
  "Peguei 3.2x ‚Äî bom lucro!",
  "Perdi 30 MZN, crashou cedo üòÖ",
  "Cashout em 2.50x, nice!",
  "Algu√©m usa estrat√©gia de sair em 1.5x?",
  "Deu 5.0x agora, que sorte!",
  "Coloquei 60 MZN e saiu certo",
  "Transformei 30 em 120 MZN üí∏",
  "Quem pegou o sinal? Partilhem!",
  "Cravou em 1.12x, perdi essa",
  "Bela rodada, vou aumentar a aposta"
];

function pushChat(who, text, cls=''){
  const el = document.createElement('div');
  el.className = 'msg ' + (cls||'');
  const whoEl = document.createElement('div');
  whoEl.className = 'who';
  whoEl.textContent = who;
  const body = document.createElement('div');
  body.className = 'body';
  body.textContent = text;
  el.appendChild(whoEl);
  el.appendChild(body);
  chatBox.appendChild(el);
  chatBox.scrollTop = chatBox.scrollHeight;
}

/* auto messages */
function spawnAuto(){
  const id = 'Jogador' + Math.floor(Math.random()*9000 + 1000);
  const text = autoMsgs[Math.floor(Math.random()*autoMsgs.length)];
  const cls = /Peguei|Pegou|Cashout|lucro|Transformei|nice|Bela/i.test(text) ? 'win' : '';
  pushChat(id, text, cls);
}
setInterval(spawnAuto, 3200);
spawnAuto();

/* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ (–∞–Ω–æ–Ω–∏–º–Ω–æ) */
sendChatBtn.addEventListener('click', ()=>{
  const v = chatInput.value.trim();
  if(!v) return;
  pushChat('Voc√™', v, /peguei|cashout|lucro|transformei|pegou/i.test(v) ? 'win':'');
  chatInput.value = '';
});
chatInput.addEventListener('keydown', e => { if(e.key === 'Enter') sendChatBtn.click(); });

/* –°–∏–≥–Ω–∞–ª: —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é */
getSignalBtn.addEventListener('click', ()=>{
  // —Å–º–µ—â–µ–Ω–∏–µ –∫ –Ω–∏–∑–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º
  let raw = Math.pow(Math.random(), 1.4) * 6 + 1.05;
  raw = Math.max(1.05, Math.min(raw, 18));
  const coef = raw.toFixed(2);
  multiplierEl.textContent = coef + 'x';
  multiplierEl.style.transform = 'scale(1.14)';
  setTimeout(()=> multiplierEl.style.transform = '', 240);
  lastSignalEl.textContent = '√öltimo sinal: ' + coef + 'x';
  state.lastCoef = parseFloat(coef);

  // –µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è —Å—Ç–∞–≤–∫–∞, —Ä–∞–∑—Ä–µ—à–∞–µ–º cashout (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å)
  if(state.betPlaced && !state.cashed){
    cashoutBtn.disabled = false;
    cashoutBtn.classList.remove('btn-ghost');
    cashoutBtn.classList.add('btn-primary');
  }

  // —á–∞—Ç: –æ–±—ä—è–≤–ª—è–µ–º —Å–∏–≥–Ω–∞–ª
  pushChat('SinalBot', `Sinal sugerido: ${coef}x`);
  // –∑–≤—É–∫ –∏ –≤–∏–∑—É–∞–ª
  if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
  playWhoosh();
  flashPulse('#ffcfbe');
});

/* –ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç–∞–≤–∫—É 30 MZN */
placeBtn.addEventListener('click', ()=>{
  if(state.betPlaced){
    alert('Voc√™ j√° tem uma aposta pendente (30 MZN).');
    return;
  }
  state.betPlaced = true;
  state.betAmount = MIN_BET;
  state.cashed = false;
  pushChat('Voc√™', `Coloquei ${MIN_BET} MZN na pr√≥xima rodada`, 'win');
});

/* Cashout —Ä–∞—Å—á—ë—Ç –ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –≤–∏–¥–∏–º–æ–º—É –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—É */
cashoutBtn.addEventListener('click', ()=>{
  if(!state.betPlaced || !state.lastCoef || state.cashed){
    alert('Sem aposta ativa ou sem sinal dispon√≠vel.');
    return;
  }
  const payout = (state.betAmount * state.lastCoef).toFixed(2);
  state.cashed = true;
  cashoutBtn.disabled = true;
  cashoutBtn.classList.remove('btn-primary');
  cashoutBtn.classList.add('btn-ghost');
  pushChat('Voc√™', `Cashout em ${state.lastCoef.toFixed(2)}x ‚Üí Recebeu ${payout} MZN`, 'win');
  flashPulse('#7ef59c');
});

/* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ ‚Äî –ª—ë–≥–∫–∏–π —à—É–º, –±–µ–∑ –ª–æ–≥–∏–∫–∏ —Ä–∞—É–Ω–¥–∞ */
let graph = [{x:0,y:1}];
function graphPush(val){
  graph.push({x:graph.length,y:val});
  if(graph.length>300) graph.shift();
}
function drawGraph(){
  const W = canvas.width = canvas.clientWidth * (window.devicePixelRatio||1);
  const H = canvas.height = canvas.clientHeight * (window.devicePixelRatio||1);
  ctx.clearRect(0,0,W,H);
  const view = graph.slice(-120);
  const maxY = Math.max(...view.map(p=>p.y), 3);
  ctx.beginPath();
  for(let i=0;i<view.length;i++){
    const p = view[i];
    const sx = (i/(view.length-1||1))*W;
    const sy = H - ((p.y / maxY) * (H - 12)) - 6;
    if(i===0) ctx.moveTo(sx,sy); else ctx.lineTo(sx,sy);
  }
  ctx.strokeStyle = 'rgba(255,59,48,0.95)';
  ctx.lineWidth = 2 * (window.devicePixelRatio||1);
  ctx.stroke();
  ctx.lineTo(W,H); ctx.lineTo(0,H); ctx.closePath();
  const g = ctx.createLinearGradient(0,0,0,H);
  g.addColorStop(0, 'rgba(255,59,48,0.08)');
  g.addColorStop(1, 'rgba(255,59,48,0.01)');
  ctx.fillStyle = g; ctx.fill();
}
setInterval(()=>{
  const last = graph.length?graph[graph.length-1].y:1;
  const next = Math.max(1, last + (Math.random()-0.5)*0.06);
  graphPush(next);
  drawGraph();
}, 900);

/* seed initial chat messages and signals */
(function seed(){
  const initial = [
    "Bem-vindo(a) ao chat!",
    "Boa sorte a todos!",
    "Algu√©m pegou o sinal anterior?"
  ];
  initial.forEach((m,i)=>setTimeout(()=>pushChat('Sistema', m), 300*i));
})();
</script>

</body>
</html>








