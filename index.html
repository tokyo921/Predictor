<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aviator â€” Simulador (FictÃ­cio, Interface fixa)</title>
<style>
  :root{
    --bg:#0b0b0c;
    --panel:#110809;
    --accent:#ff3b30; /* vermelho Ð°ÐºÑ†ÐµÐ½Ñ‚ ÐºÐ°Ðº Ñƒ Aviator */
    --accent-2:#ff6b6b;
    --muted:#b8b8b8;
    --glass: rgba(255,255,255,0.03);
    --font: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:var(--font);background:linear-gradient(180deg,#050505,var(--bg));color:#fff}
  .wrap{max-width:1180px;margin:18px auto;padding:14px;display:grid;grid-template-columns:2fr 1fr;gap:16px}
  @media (max-width:980px){ .wrap{grid-template-columns:1fr} }

  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
  header h1{font-size:20px;margin:0;color:var(--accent)}

  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.03)}
  .main-top{display:flex;gap:14px;align-items:flex-start;flex-wrap:wrap}
  .multibox{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:18px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.016), rgba(255,255,255,0.01))}
  .multiplier{font-size:80px;font-weight:900;color:var(--accent);text-shadow:0 12px 40px rgba(255,59,48,0.07)}
  .mult-sub{color:var(--muted);margin-top:6px;font-size:13px}
  .graphbox{width:420px;max-width:48%;min-width:260px;height:160px;border-radius:10px;padding:8px;background:linear-gradient(180deg, rgba(0,0,0,0.12), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center}

  .controls{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:12px;flex-wrap:wrap}
  .bet-fixed{padding:10px 16px;border-radius:8px;background:rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.04);font-weight:800}
  button.btn{padding:12px 20px;border-radius:10px;border:none;cursor:pointer;font-weight:800}
  .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#2b0a0a;box-shadow:0 8px 28px rgba(255,59,48,0.06)}
  .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
  .btn-disabled{opacity:0.45;pointer-events:none}

  .status{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:12px;color:var(--muted);font-size:13px}
  .pill{background:rgba(255,255,255,0.02);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.02)}

  /* airplane anim */
  .plane-holder{position:relative;height:40px;margin-top:12px;overflow:hidden}
  .plane{position:absolute;left:-25%;top:50%;transform:translateY(-50%);width:180px;opacity:0;transition:all 1.4s linear}
  .plane.show{left:120%;opacity:1}

  /* chat */
  .chat{display:flex;flex-direction:column;height:420px}
  .chat-window{flex:1;overflow:auto;padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.03)}
  .msg{padding:8px;border-radius:8px;margin-bottom:10px;background:rgba(0,0,0,0.12);border:1px solid rgba(255,255,255,0.02)}
  .who{font-weight:800;color:var(--accent-2);margin-bottom:4px}
  .msg.win{border-left:4px solid #6ff0a0}
  .msg.lose{border-left:4px solid #ff8b8b}
  .chat-form{display:flex;gap:8px;margin-top:8px}
  .chat-input{flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(0,0,0,0.16);color:inherit}

  .signals{margin-top:10px;border-radius:8px;padding:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02);max-height:160px;overflow:auto}
  .signal{display:flex;justify-content:space-between;padding:8px;border-bottom:1px dashed rgba(255,255,255,0.02);font-weight:700;color:var(--muted)}

  /* flash visual */
  .flash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .flash-circle{width:260px;height:260px;border-radius:50%;background:radial-gradient(circle, rgba(255,255,255,0.03), rgba(255,255,255,0));transform:scale(0);opacity:0}
  .flash-on{animation:flashIn .45s forwards}
  @keyframes flashIn{to{transform:scale(1);opacity:1}}
</style>
</head>
<body>

<header>
  <h1>ðŸŽ¯ Aviator â€” Simulador FictÃ­cio (Interface fixa)</h1>
  <div style="color:var(--muted)">Aposta mÃ­nima: <strong>30 MZN</strong> Â· Interface nÃ£o editÃ¡vel</div>
</header>

<div class="wrap">
  <!-- main -->
  <section class="panel">
    <div class="main-top">
      <div class="multibox">
        <div id="multiplier" class="multiplier">â€”</div>
        <div class="mult-sub">Multiplicador atual</div>

        <div class="plane-holder" aria-hidden="true">
          <svg id="plane" class="plane" viewBox="0 0 64 24" xmlns="http://www.w3.org/2000/svg" fill="none">
            <path d="M2 12 L58 12" stroke="#7b8ea3" stroke-width="1" stroke-linecap="round" opacity="0.35"/>
            <g transform="translate(0,0)" fill="#9fb3c8">
              <path d="M8 5 L20 12 L8 19 L8 14 L2 12 L8 10 Z" opacity="0.95"/>
              <rect x="20" y="11" width="30" height="2" rx="1" fill="#9fb3c8" opacity="0.9"/>
            </g>
          </svg>
        </div>

        <div style="margin-top:12px" class="controls">
          <div class="bet-fixed">Valor fixo: <strong>30 MZN</strong></div>
        </div>

        <div class="controls" style="margin-top:12px">
          <button id="btnPlace" class="btn btn-primary">Colocar Aposta</button>
          <button id="btnSignal" class="btn btn-ghost">Gerar Coeficiente</button>
          <button id="btnCash" class="btn btn-ghost btn-disabled" disabled>Cashout</button>
        </div>

        <div class="status" style="margin-top:12px">
          <div class="pill" id="phase">Fase: aguardando</div>
          <div class="pill" id="timer">PrÃ³xima em: --s</div>
          <div class="pill" id="online">ðŸ‘¥ -- online</div>
        </div>
      </div>

      <div class="graphbox">
        <canvas id="graph" width="420" height="160"></canvas>
      </div>
    </div>

    <div style="margin-top:12px" class="small-muted">ObservaÃ§Ã£o: simulaÃ§Ã£o local. Interface inspirada â€” nÃ£o Ã© produto oficial.</div>
  </section>

  <!-- right: chat + sinais -->
  <aside>
    <div class="panel chat">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <strong>Chat ao vivo (anÃ´nimo)</strong>
        <div style="color:var(--muted);font-size:13px">Fakes em tempo real</div>
      </div>

      <div id="chatWindow" class="chat-window" role="log" aria-live="polite"></div>

      <div class="chat-form" style="margin-top:8px">
        <input id="chatText" class="chat-input" placeholder="Escreva (anÃ´nimo) â€” ex.: 'Cashout 3.2x!'" />
        <button id="sendBtn" class="btn btn-primary">Enviar</button>
      </div>
    </div>

    <div class="panel">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
        <strong>Sinais recentes</strong><div style="color:var(--muted);font-size:13px">Ãšltimos</div>
      </div>
      <div id="signals" class="signals"></div>
    </div>
  </aside>
</div>

<div id="flash" class="flash"><div id="flashCircle" class="flash-circle"></div></div>

<script>
/*
  Aviator-like simulator (fictitious)
  - Interface fixed, bet is fixed 30 MZN
  - Coef appears only when user presses "Gerar Coeficiente"
  - Live fake chat + user anonymous messages
  - Plane sound via WebAudio (whoosh & engine)
  - Round engine minimal: pre -> run -> crash
*/

const MIN_BET = 30;
let state = {
  phase: 'waiting',
  preTime: 6,
  preLeft: 6,
  multiplier: 1.00,
  crashAt: 0,
  betPlaced: false,
  betAmount: MIN_BET,
  cashed: false,
  players: 0
};

const multiplierEl = document.getElementById('multiplier');
const phaseEl = document.getElementById('phase');
const timerEl = document.getElementById('timer');
const onlineEl = document.getElementById('online');
const btnPlace = document.getElementById('btnPlace');
const btnSignal = document.getElementById('btnSignal');
const btnCash = document.getElementById('btnCash');
const chatWindow = document.getElementById('chatWindow');
const sendBtn = document.getElementById('sendBtn');
const chatText = document.getElementById('chatText');
const signalsEl = document.getElementById('signals');
const plane = document.getElementById('plane');
const flashCircle = document.getElementById('flashCircle');

const canvas = document.getElementById('graph');
const ctx = canvas.getContext('2d');

/* Audio setup (WebAudio) */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const audioCtx = AudioCtx ? new AudioCtx() : null;
function playWhoosh(){
  if(!audioCtx) return;
  const now = audioCtx.currentTime;
  // noise burst
  const b = audioCtx.createBuffer(1, audioCtx.sampleRate*0.45, audioCtx.sampleRate);
  const data = b.getChannelData(0);
  for(let i=0;i<data.length;i++) data[i] = (Math.random()*2-1) * (1 - i/data.length);
  const src = audioCtx.createBufferSource(); src.buffer = b;
  const flt = audioCtx.createBiquadFilter(); flt.type='lowpass'; flt.frequency.setValueAtTime(1200, now);
  src.connect(flt); flt.connect(audioCtx.destination);
  src.start(now); src.stop(now+0.45);
  // engine rumble
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = 'sawtooth';
  osc.frequency.setValueAtTime(70, now);
  gain.gain.setValueAtTime(0.001, now);
  gain.gain.linearRampToValueAtTime(0.06, now + 0.06);
  gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.95);
  osc.connect(gain); gain.connect(audioCtx.destination);
  osc.start(now); osc.stop(now+0.95);
}

/* plane flight animation */
function flyPlane(){
  plane.classList.remove('show'); void plane.offsetWidth; plane.classList.add('show');
  setTimeout(()=> plane.classList.remove('show'), 1500);
}

/* fake online counter */
function updatePlayers(){ state.players = Math.floor(Math.random()*220 + 30); onlineEl.textContent = 'ðŸ‘¥ ' + state.players + ' online'; }
setInterval(updatePlayers, 2500); updatePlayers();

/* Chat: fake generators */
const fakeTexts = [
  "Ganhei 120 MZN! ðŸ”¥",
  "Crash cedo, perdi 30 MZN",
  "Cashout 2.5x â€” bom lucro",
  "Peguei 4.0x agora!",
  "Sinal Ã³timo, segui e ganhei",
  "Perdi essa, cravou 1.1x ðŸ˜…",
  "30 virou 150, show!"
];
function pushChat(name, text, cls=''){
  const el = document.createElement('div'); el.className = 'msg ' + cls;
  el.innerHTML = `<div class="who">${name}</div><div class="text">${text}</div>`;
  chatWindow.appendChild(el); chatWindow.scrollTop = chatWindow.scrollHeight;
}
function spawnFake(){ const id = 'User' + Math.floor(Math.random()*9000+1000); const t = fakeTexts[Math.floor(Math.random()*fakeTexts.length)]; const cls = /ganhei|cashout|pegou/i.test(t)?'win':''; pushChat(id, t, cls); }
setInterval(spawnFake, 3000); spawnFake();

/* user chat */
sendBtn.addEventListener('click', ()=>{ const txt = chatText.value.trim(); if(!txt) return; pushChat('Anon', txt, /ganhei|cashout|pegou/i.test(txt)?'win':''); chatText.value=''; });

/* signals list helper */
function addSignal(coef){
  const el = document.createElement('div'); el.className='signal';
  el.innerHTML = `<div>${new Date().toLocaleTimeString()}</div><div style="color:var(--accent)">${coef}x</div>`;
  signalsEl.prepend(el);
  while(signalsEl.children.length > 12) signalsEl.removeChild(signalsEl.lastChild);
}

/* "Gerar Coeficiente" - only on click, shows suggested coef and triggers plane + sound */
btnSignal.addEventListener('click', ()=>{
  // biased random (more low coefs)
  let x = Math.pow(Math.random(), 1.4) * 6 + 1.05;
  x = Math.max(1.05, Math.min(x, 18));
  const coef = x.toFixed(2);
  multiplierEl.textContent = coef + 'x';
  multiplierEl.style.transform = 'scale(1.18)';
  setTimeout(()=> multiplierEl.style.transform = '', 220);
  addSignal(coef);
  pushChat('SinalBot', `Sinal sugerido: ${coef}x (indicativo)`);
  // play sound & plane
  if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
  playWhoosh(); flyPlane();
});

/* Round engine: minimal pre -> run -> crash, user can place fixed bet and cashout */
let preTimer = null, runRAF = null;
function setPhase(p){ state.phase = p; phaseEl.textContent = 'Fase: ' + (p==='pre'?'Apostando':p==='running'?'Rodando':p==='crashed'?'Crash':'Aguardando'); }

function startPre(){
  setPhase('pre'); state.preLeft = state.preTime; timerEl.textContent = 'PrÃ³xima em: ' + state.preLeft + 's';
  btnCash.classList.add('btn-disabled'); btnCash.disabled = true;
  preTimer = setInterval(()=>{ state.preLeft--; timerEl.textContent = 'PrÃ³xima em: ' + state.preLeft + 's'; if(state.preLeft<=0){ clearInterval(preTimer); beginRun(); } }, 1000);
}

/* user place bet */
btnPlace.addEventListener('click', ()=>{
  if(state.phase !== 'pre'){ alert('SÃ³ Ã© possÃ­vel apostar na fase de apostas.'); return; }
  state.betPlaced = true; state.betAmount = MIN_BET; state.cashed = false;
  pushChat('VocÃª', `Colocou ${MIN_BET} MZN na prÃ³xima rodada`, 'win');
});

/* cashout */
btnCash.addEventListener('click', ()=>{
  if(state.phase !== 'running' || !state.betPlaced || state.cashed) return;
  const payout = (state.betAmount * state.multiplier).toFixed(2);
  state.cashed = true; btnCash.classList.add('btn-disabled'); btnCash.disabled = true;
  pushChat('VocÃª', `Cashout em ${state.multiplier.toFixed(2)}x â†’ Recebeu ${payout} MZN`, 'win');
  flash('#7ef59c');
});

/* run */
function beginRun(){
  setPhase('running');
  // crash pick: skewed to low multipliers, some chance high
  let r = Math.random();
  if(r < 0.07) state.crashAt = Number((Math.random()*8 + 3).toFixed(2));
  else state.crashAt = Number((Math.random()*2 + 1.05).toFixed(2));
  if(Math.random() < 0.05) state.crashAt = Number((Math.random()*1.1 + 1.02).toFixed(2));

  state.multiplier = 1.00;
  if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
  btnCash.classList.remove('btn-disabled'); btnCash.disabled = false;

  const t0 = performance.now();
  function frame(now){
    const dt = (now - t0);
    // growth curve (tunable)
    state.multiplier = Math.max(1 + dt*0.0009, Math.pow(1.02, dt*0.01));
    multiplierEl.textContent = state.multiplier.toFixed(2) + 'x';
    graphPush(state.multiplier);
    drawGraph();
    if(state.multiplier >= state.crashAt){
      // crash
      crash();
      return;
    }
    runRAF = requestAnimationFrame(frame);
  }
  runRAF = requestAnimationFrame(frame);
}

/* crash */
function crash(){
  setPhase('crashed');
  cancelAnimationFrame(runRAF);
  btnCash.classList.add('btn-disabled'); btnCash.disabled = true;
  // if lost bet
  if(state.betPlaced && !state.cashed){
    pushChat('Sistema', `Crash em ${state.crashAt.toFixed(2)}x â€” sua aposta de ${state.betAmount} MZN perdeu.`, 'lose');
    flash('#ff8b8b');
  }
  multiplierEl.textContent = state.crashAt.toFixed(2) + 'x';
  drawGraph(true);
  // reset
  setTimeout(()=>{ state.betPlaced=false; state.betAmount=MIN_BET; state.cashed=false; graphReset(); startPre(); }, 2400);
}

/* flash visual */
function flash(color='#7ef59c'){ flashCircle.style.background = `radial-gradient(circle, ${color}, rgba(0,0,0,0))`; flashCircle.classList.add('flash-on'); setTimeout(()=>flashCircle.classList.remove('flash-on'), 600); }

/* graph */
let graph = [{x:0,y:1}];
function graphPush(val){ graph.push({x:graph.length, y:val}); if(graph.length>300) graph.shift(); }
function graphReset(){ graph = [{x:0,y:1}]; drawGraph(); }

function drawGraph(highlight=false){
  const W = canvas.width = canvas.clientWidth * (window.devicePixelRatio||1);
  const H = canvas.height = canvas.clientHeight * (window.devicePixelRatio||1);
  ctx.clearRect(0,0,W,H);
  // path
  ctx.beginPath();
  const view = graph.slice(-120);
  const maxY = Math.max(...view.map(p=>p.y), 3);
  for(let i=0;i<view.length;i++){
    const p = view[i];
    const sx = (i/(view.length-1||1))*W;
    const sy = H - ((p.y / maxY) * (H - 12)) - 6;
    if(i===0) ctx.moveTo(sx,sy); else ctx.lineTo(sx,sy);
  }
  ctx.strokeStyle = 'rgba(255,59,48,0.95)';
  ctx.lineWidth = 2 * (window.devicePixelRatio||1);
  ctx.stroke();
  ctx.lineTo(W,H); ctx.lineTo(0,H); ctx.closePath();
  const g = ctx.createLinearGradient(0,0,0,H);
  g.addColorStop(0, 'rgba(255,59,48,0.08)');
  g.addColorStop(1, 'rgba(255,59,48,0.01)');
  ctx.fillStyle = g; ctx.fill();
  if(highlight){ ctx.fillStyle = 'rgba(255,120,120,0.12)'; ctx.fillRect(W-6,0,6,H); }
}

/* start loop */
startPre();

/* utility: add signal to list */
function addSignalToList(coef){ const el=document.createElement('div'); el.className='signal'; el.innerHTML=`<div>${new Date().toLocaleTimeString()}</div><div style="color:var(--accent)">${coef}x</div>`; signalsEl.prepend(el); while(signalsEl.children.length>12) signalsEl.removeChild(signalsEl.lastChild); }

/* "Gerar Coeficiente" also adds to signals list and chat */
btnSignal.addEventListener('click', ()=>{
  let val = Math.pow(Math.random(),1.4)*6 + 1.05; val = Math.max(1.05, Math.min(val, 12)); const coef = val.toFixed(2);
  multiplierEl.textContent = coef + 'x';
  multiplierEl.style.transform = 'scale(1.12)'; setTimeout(()=>multiplierEl.style.transform='scale(1)',220);
  addSignalToList(coef); pushChat('SinalBot', `Sinal sugerido: ${coef}x (indicativo)`);
  if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume(); playWhoosh(); flyPlane();
});

/* small UX: enter sends chat */
chatText.addEventListener('keydown', (e)=>{ if(e.key==='Enter') sendBtn.click(); });

/* accessibility: resume audio on gesture */
document.addEventListener('click', function resume(){ if(audioCtx && audioCtx.state==='suspended') audioCtx.resume(); document.removeEventListener('click', resume); });

</script>
</body>
</html>






