<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aviator-like ‚Äî Simulador (Fict√≠cio, Interface fixa)</title>
<style>
  :root{
    --bg-1:#070607;
    --bg-2:#1a0b0b;
    --panel: rgba(255,255,255,0.03);
    --accent:#ff3b30;      /* –∫—Ä–∞—Å–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç */
    --accent-2:#ff7b6b;
    --muted:#bdbdbd;
    --glass: rgba(255,255,255,0.02);
    --font: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:var(--font);background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#fff}
  .wrap{max-width:1200px;margin:18px auto;padding:18px;display:grid;grid-template-columns:2fr 1fr;gap:16px}
  @media (max-width:980px){ .wrap{grid-template-columns:1fr} }

  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
  header h1{margin:0;color:var(--accent);font-size:20px}
  header .note{color:var(--muted);font-size:13px}

  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.03)}
  .main{display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap}
  .left{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(0,0,0,0.06), rgba(255,255,255,0.01))}
  .mult{font-size:84px;font-weight:900;color:var(--accent);text-shadow:0 10px 30px rgba(255,59,48,0.06)}
  .mult-sub{color:var(--muted);margin-top:6px;font-size:13px}

  .graph{width:420px;max-width:48%;min-width:260px;height:160px;border-radius:10px;padding:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.007));display:flex;align-items:center;justify-content:center}
  @media (max-width:980px){ .graph{max-width:100%} }

  .controls{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:14px;flex-wrap:wrap}
  .bet-fixed{padding:10px 16px;border-radius:8px;background:rgba(0,0,0,0.18);border:1px solid rgba(255,255,255,0.04);font-weight:800}
  .btn{padding:12px 18px;border-radius:10px;border:none;cursor:pointer;font-weight:800}
  .primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#2b0a0a;box-shadow:0 10px 30px rgba(255,59,48,0.06)}
  .ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
  .disabled{opacity:0.45;pointer-events:none}

  .status{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:12px;color:var(--muted);font-size:13px}
  .pill{background:rgba(255,255,255,0.02);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.02)}

  /* plane */
  .planeWrap{position:relative;height:40px;overflow:hidden;margin-top:12px}
  .plane{position:absolute;left:-30%;top:50%;transform:translateY(-50%);width:180px;opacity:0;transition:all 1.5s linear}
  .plane.show{left:120%;opacity:1}

  /* chat */
  .chat{display:flex;flex-direction:column;height:420px}
  .chatWindow{flex:1;overflow:auto;padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.03)}
  .msg{padding:8px;border-radius:8px;margin-bottom:10px;background:rgba(0,0,0,0.12);border:1px solid rgba(255,255,255,0.02)}
  .who{font-weight:800;color:var(--accent-2);margin-bottom:4px}
  .win{border-left:4px solid #6ff2ab}
  .lose{border-left:4px solid #ff8b8b}
  .chatForm{display:flex;gap:8px;margin-top:8px}
  .chatInput{flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(0,0,0,0.16);color:inherit}

  .signals{margin-top:10px;border-radius:8px;padding:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02);max-height:200px;overflow:auto}
  .signal{display:flex;justify-content:space-between;padding:8px;border-bottom:1px dashed rgba(255,255,255,0.02);font-weight:800;color:var(--muted)}

  /* flash */
  .flash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .circle{width:260px;height:260px;border-radius:50%;background:radial-gradient(circle, rgba(255,255,255,0.03), rgba(255,255,255,0));transform:scale(0);opacity:0}
  .on{animation:flash 0.48s forwards}
  @keyframes flash{to{transform:scale(1);opacity:1}}

  /* small responsive */
  @media (max-width:600px){ .mult{font-size:56px} }
</style>
</head>
<body>
  <header>
    <h1>üéØ Aviator ‚Äî –ü–æ—Ö–æ–∂–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h1>
    <div class="note">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞: <strong>30 MZN</strong> ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</div>
  </header>

  <div class="wrap">
    <!-- main left -->
    <section class="panel">
      <div class="main">
        <div class="left">
          <div id="multiplier" class="mult">‚Äî</div>
          <div class="mult-sub">–ú–Ω–æ–∂–∏—Ç–µ–ª—å</div>

          <div class="planeWrap">
            <svg id="plane" class="plane" viewBox="0 0 64 24" xmlns="http://www.w3.org/2000/svg" fill="none">
              <path d="M2 12 L58 12" stroke="#7b8ea3" stroke-width="1" stroke-linecap="round" opacity="0.35"/>
              <g transform="translate(0,0)" fill="#9fb3c8">
                <path d="M8 5 L20 12 L8 19 L8 14 L2 12 L8 10 Z" opacity="0.95"/>
                <rect x="20" y="11" width="30" height="2" rx="1" fill="#9fb3c8" opacity="0.9"/>
              </g>
            </svg>
          </div>

          <div class="controls">
            <div class="bet-fixed">–°—Ç–∞–≤–∫–∞: <strong>30 MZN</strong></div>
          </div>

          <div class="controls">
            <button id="placeBtn" class="btn primary">–ü–æ—Å—Ç–∞–≤–∏—Ç—å</button>
            <button id="signalBtn" class="btn ghost">–ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>
            <button id="cashBtn" class="btn ghost disabled" disabled>Cashout</button>
          </div>

          <div class="status">
            <div class="pill" id="phase">–§–∞–∑–∞: –æ–∂–∏–¥–∞–Ω–∏–µ</div>
            <div class="pill" id="timer">–°–ª–µ–¥—É—é—â–∏–π: --</div>
            <div class="pill" id="players">üë• -- –æ–Ω–ª–∞–π–Ω</div>
          </div>
        </div>

        <div class="graph">
          <canvas id="graphCanvas" width="420" height="160"></canvas>
        </div>
      </div>

      <div style="margin-top:12px;color:var(--muted);font-size:13px;text-align:center">
        –ù–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª¬ª ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ—è–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é.
      </div>
    </section>

    <!-- right -->
    <aside>
      <div class="panel chat">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <strong>–ß–∞—Ç (–∞–Ω–æ–Ω–∏–º–Ω—ã–π)</strong>
          <div style="color:var(--muted);font-size:13px">–§–µ–π–∫–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</div>
        </div>

        <div id="chat" class="chatWindow" aria-live="polite"></div>

        <div class="chatForm">
          <input id="chatInput" class="chatInput" placeholder="–ê–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –Ω–∞–ø—Ä.: 'Cashout 3.2x!'" />
          <button id="sendChat" class="btn primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
      </div>

      <div class="panel">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <strong>–°–∏–≥–Ω–∞–ª—ã</strong>
          <div style="color:var(--muted);font-size:13px">–ü–æ—Å–ª–µ–¥–Ω–∏–µ</div>
        </div>
        <div id="signals" class="signals"></div>
      </div>
    </aside>
  </div>

  <div class="flash"><div id="circle" class="circle"></div></div>

<script>
/* === –ü–æ–≤–µ–¥–µ–Ω–∏–µ: —Å—Ç—Ä–æ–≥–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é ===
   - "–ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (—Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é),
   - "–ü–æ—Å—Ç–∞–≤–∏—Ç—å" —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ 30MZN (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–∑–µ pre, –Ω–æ —É –Ω–∞—Å —Ñ–∞–∑–∞ —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –≤—Ä—É—á–Ω—É—é),
   - –Ω–µ—Ç –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–Ω–æ–∂–∏—Ç–µ–ª—è; –µ—Å—Ç—å –∏–º–∏—Ç–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∞,
   - —á–∞—Ç ‚Äî –∂–∏–≤–æ–π —Ñ–µ–π–∫ + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ,
   - –∑–≤—É–∫ —Å–∞–º–æ–ª—ë—Ç–∞ –∏ ¬´–≤–∑–ª—ë—Ç¬ª ‚Äî WebAudio (whoosh + rumble),
   - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ù–ï –º–µ–Ω—è–µ—Ç—Å—è —Å–∞–º (–±–µ–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤).
*/

/* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
const MIN_BET = 30;
let state = {
  phase: 'waiting', // waiting | pre | running | crashed
  multiplier: 1.0,
  crashAt: 0,
  betPlaced: false,
  betAmount: MIN_BET,
  cashed: false,
  players: 0
};

/* DOM */
const multiplierEl = document.getElementById('multiplier');
const phaseEl = document.getElementById('phase');
const timerEl = document.getElementById('timer');
const playersEl = document.getElementById('players');
const placeBtn = document.getElementById('placeBtn');
const signalBtn = document.getElementById('signalBtn');
const cashBtn = document.getElementById('cashBtn');
const chatEl = document.getElementById('chat');
const sendChatBtn = document.getElementById('sendChat');
const chatInput = document.getElementById('chatInput');
const signalsEl = document.getElementById('signals');
const plane = document.getElementById('plane');
const circle = document.getElementById('circle');
const canvas = document.getElementById('graphCanvas');
const ctx = canvas.getContext('2d');

/* WebAudio: whoosh + small engine (no external files) */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const audioCtx = AudioCtx ? new AudioCtx() : null;

function playTakeoffSound(){
  if(!audioCtx) return;
  const now = audioCtx.currentTime;
  // noise (whoosh)
  const bufferSize = audioCtx.sampleRate * 0.45;
  const noiseBuffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
  let data = noiseBuffer.getChannelData(0);
  for(let i=0;i<bufferSize;i++) data[i] = (Math.random()*2-1) * (1 - i/bufferSize);
  const noise = audioCtx.createBufferSource();
  noise.buffer = noiseBuffer;
  const noiseFilter = audioCtx.createBiquadFilter();
  noiseFilter.type = 'lowpass';
  noiseFilter.frequency.setValueAtTime(1200, now);
  noise.connect(noiseFilter);
  noiseFilter.connect(audioCtx.destination);
  noise.start(now);
  noise.stop(now + 0.45);

  // engine rumble
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = 'sawtooth';
  osc.frequency.setValueAtTime(80, now);
  gain.gain.setValueAtTime(0.0001, now);
  gain.gain.linearRampToValueAtTime(0.08, now + 0.05);
  gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.9);
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.start(now);
  osc.stop(now + 0.9);
}

/* Plane flight */
function flyPlane(){
  plane.classList.remove('show'); void plane.offsetWidth; plane.classList.add('show');
  setTimeout(()=> plane.classList.remove('show'), 1600);
}

/* Fake online count */
function updatePlayers(){
  state.players = Math.floor(Math.random()*220 + 30);
  playersEl.textContent = 'üë• ' + state.players + ' online';
}
setInterval(updatePlayers, 2500);
updatePlayers();

/* Fake chat messages generator */
const fakeMessages = [
  "Ganhei 120 MZN! üî•",
  "Crash cedo, perdi 30 MZN",
  "Cashout 2.5x ‚Äî —Ö–æ—Ä–æ—à–∏–π –ø—Ä–æ—Ñ–∏—Ç",
  "–ü–æ–π–º–∞–ª 4.0x —Å–µ–π—á–∞—Å!",
  "Sinal —Ö–æ—Ä–æ—à–∏–π, —Å–ª–µ–¥–æ–≤–∞–ª –∏ –≤—ã–∏–≥—Ä–∞–ª",
  "–ö—Ä–∞—à–Ω—É–ª –Ω–∞ 1.13x, –ø–µ—á–∞–ª—å",
  "30 -> 150 MZN, –æ—Ç–ª–∏—á–Ω–æ!"
];

function pushChat(who, text, cls=''){
  const el = document.createElement('div');
  el.className = 'msg ' + cls;
  el.innerHTML = `<div class="who">${who}</div><div class="text">${text}</div>`;
  chatEl.appendChild(el);
  chatEl.scrollTop = chatEl.scrollHeight;
}

function spawnFakeChat(){
  const id = 'User' + Math.floor(Math.random()*9000+1000);
  const t = fakeMessages[Math.floor(Math.random()*fakeMessages.length)];
  const cls = /ganhei|win|cashout|–ø–æ–π–º–∞–ª/i.test(t) ? 'win' : (/crash|–ø–µ—Ä–¥–∏|–∫—Ä–µ—à/i.test(t)?'lose':'');
  pushChat(id, t, cls);
}
setInterval(spawnFakeChat, 3200);
spawnFakeChat();

/* User chat */
sendChatBtn.addEventListener('click', ()=>{
  const txt = chatInput.value.trim();
  if(!txt) return;
  pushChat('Anon', txt, /ganhei|cashout|–ø–æ–π–º–∞–ª|win/i.test(txt) ? 'win':'');
  chatInput.value = '';
});
chatInput.addEventListener('keydown', e => { if(e.key==='Enter') sendChatBtn.click(); });

/* Signals list helper */
function addSignal(coef){
  const el = document.createElement('div');
  el.className = 'signal';
  el.innerHTML = `<div>${new Date().toLocaleTimeString()}</div><div style="color:var(--accent)">${coef}x</div>`;
  signalsEl.prepend(el);
  while(signalsEl.children.length > 12) signalsEl.removeChild(signalsEl.lastChild);
}

/* PRIMARY: "–ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª" ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é */
signalBtn.addEventListener('click', ()=>{
  // biased random multiplier suggestion (more low coefs)
  let raw = Math.pow(Math.random(), 1.4) * 7 + 1.05;
  raw = Math.max(1.05, Math.min(raw, 18));
  const coef = raw.toFixed(2);
  // show multiplier visually (temporary)
  multiplierEl.textContent = coef + 'x';
  multiplierEl.style.transform = 'scale(1.14)';
  setTimeout(()=> multiplierEl.style.transform = '', 280);
  addSignal(coef);
  pushChat('SinalBot', `Sinal: ${coef}x (–∏–Ω–¥–∏–∫–∞—Ç–∏–≤–Ω–æ)`);
  // sound + plane
  if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
  playTakeoffSound();
  flyPlane();
});

/* Place bet (fixed 30) */
placeBtn.addEventListener('click', ()=>{
  // only allow while not already having bet (this keeps UI simple)
  if(state.betPlaced){
    alert('–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Å—Ç–∞–≤–∫–∞ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ (30 MZN).');
    return;
  }
  state.betPlaced = true; state.betAmount = MIN_BET; state.cashed = false;
  pushChat('–í—ã', `–ü–æ—Å—Ç–∞–≤–∏–ª–∏ ${MIN_BET} MZN –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥`, 'win');
});

/* Cashout (in this simplified UI cashout grants a payout based on last suggested coef) */
cashBtn.addEventListener('click', ()=>{
  // cashout only if bet placed AND there is a displayed multiplier (from signal)
  const cur = parseFloat(multiplierEl.textContent);
  if(!state.betPlaced || isNaN(cur)){
    alert('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç–∞–≤–∫–∏ –∏–ª–∏ –º–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–µ –∑–∞–¥–∞–Ω. –°–Ω–∞—á–∞–ª–∞ –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–∏–≥–Ω–∞–ª.');
    return;
  }
  if(state.cashed){
    alert('–í—ã —É–∂–µ —Å–¥–µ–ª–∞–ª–∏ cashout.');
    return;
  }
  const payout = (state.betAmount * cur).toFixed(2);
  state.cashed = true;
  pushChat('–í—ã', `Cashout –≤ ${cur.toFixed(2)}x ‚Üí –ü–æ–ª—É—á–∏–ª–∏ ${payout} MZN`, 'win');
  // visual flash
  circle.style.background = 'radial-gradient(circle, #7ef59c, rgba(0,0,0,0))';
  circle.classList.add('on'); setTimeout(()=>circle.classList.remove('on'), 520);
  // disable cash button
  cashBtn.classList.add('disabled'); cashBtn.disabled = true;
});

/* Small visual graph simulation to look "–∂–∏–≤—ã–º" but NOT auto-change interface */
let graph = [{x:0,y:1}];
function graphPush(v){
  graph.push({x:graph.length,y:v});
  if(graph.length>300) graph.shift();
}
function drawGraph(highlight=false){
  const W = canvas.width = canvas.clientWidth * (window.devicePixelRatio||1);
  const H = canvas.height = canvas.clientHeight * (window.devicePixelRatio||1);
  ctx.clearRect(0,0,W,H);
  // draw line red
  ctx.beginPath();
  const view = graph.slice(-120);
  const maxY = Math.max(...view.map(p=>p.y), 3);
  for(let i=0;i<view.length;i++){
    const p = view[i];
    const sx = (i/(view.length-1||1))*W;
    const sy = H - ((p.y / maxY) * (H - 12)) - 6;
    if(i===0) ctx.moveTo(sx,sy); else ctx.lineTo(sx,sy);
  }
  ctx.strokeStyle = 'rgba(255,59,48,0.95)';
  ctx.lineWidth = 2 * (window.devicePixelRatio||1);
  ctx.stroke();
  ctx.lineTo(W,H); ctx.lineTo(0,H); ctx.closePath();
  const g = ctx.createLinearGradient(0,0,0,H);
  g.addColorStop(0,'rgba(255,59,48,0.08)');
  g.addColorStop(1,'rgba(255,59,48,0.01)');
  ctx.fillStyle = g; ctx.fill();
  if(highlight){ ctx.fillStyle = 'rgba(255,120,120,0.12)'; ctx.fillRect(W-6,0,6,H); }
}

/* Keep graph gently alive visually but only by adding small noise points (no auto multiplier logic) */
setInterval(()=>{
  // gentle floating baseline so chart never empty
  const last = graph.length?graph[graph.length-1].y:1;
  const next = Math.max(1, last + (Math.random()-0.5)*0.08);
  graphPush(next);
  drawGraph();
}, 900);

/* add initial seeds */
for(let i=0;i<8;i++) graphPush(1 + Math.random()*0.6);
drawGraph();

/* small utilities */
function pushInitialSignals(){
  for(let i=0;i<6;i++){
    const c = (Math.random()*5 + 1).toFixed(2);
    addSignal(c);
  }
}
pushInitialSignals();

/* Ensure interface does NOT change by itself:
   - no automatic rounds, no auto signal generation, no auto cashout.
   - only actions come from button clicks above.
*/

/* small UX: Enter in chat sends */
chatInput.addEventListener('keydown', e=>{ if(e.key==='Enter') sendChatBtn.click(); });

/* resume audio on first user action (browser policy) */
document.addEventListener('click', function resumeAudio(){
  if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
  document.removeEventListener('click', resumeAudio);
});
</script>
</body>
</html>







